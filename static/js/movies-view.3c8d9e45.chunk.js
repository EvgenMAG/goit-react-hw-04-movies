(this["webpackJsonpgoit-react-hw-01-components"]=this["webpackJsonpgoit-react-hw-01-components"]||[]).push([[3],{54:function(e,t,a){e.exports={gallery:"Movies_gallery__2-ZTP",ImageGalleryItem:"Movies_ImageGalleryItem__3z8RZ",ImageGalleryItem__image:"Movies_ImageGalleryItem__image__f-JYo",linkStyle:"Movies_linkStyle__3YJqS",actorContainer:"Movies_actorContainer__3eC05",galleryActor:"Movies_galleryActor__2GbhI",ActorGalleryItem__image:"Movies_ActorGalleryItem__image__2Tqgn",titleActor:"Movies_titleActor__1bAN5",characterName:"Movies_characterName__2b9Dw",contrastBox:"Movies_contrastBox__3MvLJ",aboutMovieLink:"Movies_aboutMovieLink__36htO",active:"Movies_active__3JD2R",buttonBack:"Movies_buttonBack__8b9WH",containerMoviePage:"Movies_containerMoviePage__2BFfY",containerMovieDescr:"Movies_containerMovieDescr__2rPQb",movieTille:"Movies_movieTille__2pkXw",movieVote:"Movies_movieVote__1uM6G",movieVoteScore:"Movies_movieVoteScore__3bRps",movieGenre:"Movies_movieGenre__36JYD",genresList:"Movies_genresList__23kqE"}},57:function(e,t,a){"use strict";var r=a(60),n=a.n(r),c="91085a172e1ffb2047d72641d0a91356";n.a.defaults.baseURL="https://api.themoviedb.org/3/";t.a={getPopularMovies:function(){var e="trending/movie/week?api_key=".concat(c);return n.a.get(e).then((function(e){return e.data.results}))},getMovieByQuery:function(e){var t="search/movie?api_key=".concat(c,"&language=en-US&page=1&query=").concat(e);return n.a.get(t).then((function(e){return e.data.results}))},getMovieById:function(e){console.log(e);var t="movie/".concat(e,"?api_key=").concat(c,"&language=en-US");return n.a.get(t).then((function(e){return e.data}))},getMovieCast:function(e){var t="movie/".concat(e,"/credits?api_key=").concat(c,"&language=en-US");return n.a.get(t).then((function(e){return e.data}))},getMovieReview:function(e){var t="movie/".concat(e,"/reviews?api_key=").concat(c,"&language=en-US&page=1");return n.a.get(t).then((function(e){return e.data}))}}},87:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__DjWH3",SearchForm:"Searchbar_SearchForm__1ac2l",SearchForm__button:"Searchbar_SearchForm__button__wM7NY",SearchForm__button__label:"Searchbar_SearchForm__button__label__w-x-_",SearchForm__input:"Searchbar_SearchForm__input__1-9Kh"}},88:function(e,t,a){"use strict";var r=a(89),n=a(12);function c(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function o(e){return Array.isArray(e)?e.sort():"object"===typeof e?o(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var a=function(e){var t;switch(e.arrayFormat){case"index":return function(e,a,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=a):r[e]=a};case"bracket":return function(e,a,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],a):r[e]=[a]:r[e]=a};default:return function(e,t,a){void 0!==a[e]?a[e]=[].concat(a[e],t):a[e]=t}}}(t=n({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),n=t.shift(),c=t.length>0?t.join("="):void 0;c=void 0===c?null:decodeURIComponent(c),a(decodeURIComponent(n),c,r)})),Object.keys(r).sort().reduce((function(e,t){var a=r[t];return Boolean(a)&&"object"===typeof a&&!Array.isArray(a)?e[t]=o(a):e[t]=a,e}),Object.create(null))):r},t.stringify=function(e,t){var a=function(e){switch(e.arrayFormat){case"index":return function(t,a,r){return null===a?[c(t,e),"[",r,"]"].join(""):[c(t,e),"[",c(r,e),"]=",c(a,e)].join("")};case"bracket":return function(t,a){return null===a?c(t,e):[c(t,e),"[]=",c(a,e)].join("")};default:return function(t,a){return null===a?c(t,e):[c(t,e),"=",c(a,e)].join("")}}}(t=n({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(r){var n=e[r];if(void 0===n)return"";if(null===n)return c(r,t);if(Array.isArray(n)){var o=[];return n.slice().forEach((function(e){void 0!==e&&o.push(a(r,e,o.length))})),o.join("&")}return c(r,t)+"="+c(n,t)})).filter((function(e){return e.length>0})).join("&"):""}},89:function(e,t,a){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},90:function(e,t,a){"use strict";function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a.r(t);var o=a(55),i=a(56),s=a(59),u=a(58),l=a(10),h=a(3),m=a(0),v=a(57),p=a(8),b=a(54),f=a.n(b),j=a.p+"static/media/placeH.5c1ff72b.jpeg",d=a(2),_=function(e){var t=e.movieCast;return Object(d.jsx)("ul",{className:f.a.galleryActor,children:t.map((function(e){var t=e.character,a=e.id,r=e.original_name,n=e.profile_path,c=t.indexOf("/");return Object(d.jsxs)("li",{children:[Object(d.jsx)("img",{className:f.a.ActorGalleryItem__image,src:n?"".concat("https://image.tmdb.org/t/p/w300").concat(n):j,alt:t}),Object(d.jsxs)("div",{className:f.a.actorContainer,children:[Object(d.jsx)("h4",{className:f.a.titleActor,children:r}),Object(d.jsx)("p",{className:f.a.characterName,children:t.includes("/")?t.slice(0,c):t}),Object(d.jsx)("span",{className:f.a.contrastBox})]})]},a)}))})},g=function(e){var t=e.movieReview;return 0!==t.length?Object(d.jsx)("ul",{children:t.map((function(e){var t=e.author,a=e.content;return Object(d.jsxs)("li",{children:[Object(d.jsx)("h4",{children:t}),Object(d.jsx)("p",{children:a})]})}))}):Object(d.jsx)("h4",{children:"\u041c\u0435\u043d\u044f \u043d\u0438\u043a\u0442\u043e \u043d\u0435 \u043e\u0431\u0441\u0443\u0436\u0434\u0430\u043b! \u0421\u0442\u0430\u043d\u044c \u041f\u0435\u0440\u0432\u044b\u043c!!!!"})},y=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={movie:{genres:null,id:null,overview:null,poster_path:null,title:null,vote_average:null},cast:[],reviews:[]},e.handleGoBack=function(){var t=e.props,a=t.location,r=t.history;if(!a.state)return r.push(p.a.home);if(a.state.searchQuery){var n=e.props.location.state.searchQuery;return e.props.history.push({pathname:p.a.movies,search:"?query=".concat(n)})}r.push(a.state.from)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.moviesId;v.a.getMovieById(t).then((function(t){return e.setState({movie:c({},t)})})),v.a.getMovieCast(t).then((function(t){e.setState({cast:t.cast.slice(0,10)})})),v.a.getMovieReview(t).then((function(t){e.setState({reviews:t.results})}))}},{key:"render",value:function(){var e=this,t=this.state.movie,a=t.genres,r=t.overview,n=t.poster_path,o=t.title,i=t.vote_average,s=this.props,u=s.match,m=s.location,v=m.state?"".concat(m.state.from):"",b=m.state?"".concat(m.state.searchQuery):"";return console.log(v),Object(d.jsxs)("div",{className:"container-fluid",children:[Object(d.jsx)("button",{type:"button",onClick:this.handleGoBack,className:f.a.buttonBack,children:"\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"})," ",Object(d.jsxs)("div",{className:f.a.containerMoviePage,children:[n&&Object(d.jsx)("img",{src:"".concat("https://image.tmdb.org/t/p/w500").concat(n),alt:o}),Object(d.jsxs)("div",{className:f.a.containerMovieDescr,children:[Object(d.jsx)("h2",{className:f.a.movieTille,children:o}),Object(d.jsxs)("p",{className:f.a.movieVote,children:["Vote: ",Object(d.jsx)("span",{className:f.a.movieVoteScore,children:i})]}),Object(d.jsx)("h3",{children:"Overview:"}),Object(d.jsx)("p",{children:r}),a&&Object(d.jsxs)("p",{className:f.a.movieGenre,children:["Genres:"," ",a.map((function(e){var t=e.id,a=e.name;return Object(d.jsxs)("span",{className:f.a.genresList,children:[a,","," "]},t)}))]})]})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Additional Information"}),Object(d.jsx)(l.b,{to:{pathname:"".concat(u.url,"/cast"),state:{from:v,searchQuery:b}},className:f.a.aboutMovieLink,activeClassName:f.a.active,children:"Cast"}),Object(d.jsx)(l.b,{to:{pathname:"".concat(u.url,"/reviews"),state:{from:v,searchQuery:b}},className:f.a.aboutMovieLink,activeClassName:f.a.active,children:"Review"})]}),Object(d.jsxs)(h.c,{children:[Object(d.jsx)(h.a,{exact:!0,path:p.a.movieCast,render:function(t){return Object(d.jsx)(_,c(c({},t),{},{movieCast:e.state.cast}))}}),Object(d.jsx)(h.a,{exact:!0,path:p.a.movieReviews,render:function(t){return Object(d.jsx)(g,c(c({},t),{},{movieReview:e.state.reviews}))}})]})]})}}]),a}(m.Component);t.default=y},91:function(e,t,a){"use strict";a.r(t);var r=a(55),n=a(56),c=a(59),o=a(58),i=a(0),s=a(87),u=a.n(s),l=a(2),h=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={searchQuery:""},e.handleInput=function(t){e.setState({searchQuery:t.target.value})},e.handleSubmitForm=function(t){t.preventDefault(),""!==e.state.searchQuery.trim()&&(e.props.onSubmit(e.state.searchQuery),e.setState({searchQuery:""}))},e}return Object(n.a)(a,[{key:"render",value:function(){return Object(l.jsx)("div",{className:u.a.Searchbar,children:Object(l.jsxs)("form",{className:u.a.SearchForm,onSubmit:this.handleSubmitForm,children:[Object(l.jsx)("button",{type:"submit",className:u.a.SearchForm__button,onClick:this.handleSubmitForm,children:Object(l.jsx)("span",{className:u.a.SearchForm__button__label,children:"Search"})}),Object(l.jsx)("input",{className:u.a.SearchForm__input,type:"text",value:this.state.searchQuery,onChange:this.handleInput,autoComplete:"off",autoFocus:!0,placeholder:"Search Movies"})]})})}}]),a}(i.Component),m=a(10),v=a(88),p=a.n(v),b=a(57),f=a(54),j=a.n(f),d=a.p+"static/media/default_backdrop2.f845db56.jpg",_=function(e){Object(c.a)(a,e);var t=Object(o.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state={query:"",movies:[]},e.findMovies=function(t){return b.a.getMovieByQuery(t).then((function(t){return e.setState({movies:t})}))},e.handleSubmit=function(t){e.setState({query:t}),e.onCategoryChange(t)},e.onCategoryChange=function(t){e.props.history.push({pathname:e.props.location.pathname,search:"query=".concat(t)})},e}return Object(n.a)(a,[{key:"componentDidMount",value:function(){var e=p.a.parse(this.props.location.search);console.log(e.query),console.log("Returning from PAGE",this.props.location.search),this.props.location.search&&(this.findMovies(e.query),this.setState({query:e.query}))}},{key:"componentDidUpdate",value:function(e,t){var a=t.query,r=this.state.query;a!==r&&this.findMovies(r)}},{key:"render",value:function(){var e=this.props.match,t=this.state.query;return console.log(this.state.movies),console.log(this.state.query),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(h,{onSubmit:this.handleSubmit}),Object(l.jsx)("div",{className:"container-fluid",children:Object(l.jsx)("ul",{className:j.a.gallery,children:this.state.movies.map((function(a){var r=a.id,n=a.title,c=a.backdrop_path;return Object(l.jsx)("li",{className:j.a.ImageGalleryItem,children:Object(l.jsxs)(m.b,{to:{pathname:"".concat(e.url,"/").concat(r),state:{from:"".concat(e.url),searchQuery:t}},className:j.a.linkStyle,children:[Object(l.jsx)("img",{src:c?"".concat("https://image.tmdb.org/t/p/w300").concat(c):d,alt:n,className:j.a.ImageGalleryItem__image}),n]})},r)}))})})]})}}]),a}(i.Component);t.default=_}}]);
//# sourceMappingURL=movies-view.3c8d9e45.chunk.js.map